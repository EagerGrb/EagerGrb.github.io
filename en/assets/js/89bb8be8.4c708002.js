"use strict";(self.webpackChunkrobin_note_book=self.webpackChunkrobin_note_book||[]).push([[5583],{4478:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"L-\u6e90\u7801\u7cfb\u5217/runtime-system","title":"\u8fd0\u884c\u65f6\u7cfb\u7edf","description":"V8\u7684\u8fd0\u884c\u65f6\u7cfb\u7edf\u5305\u62ec\u5bf9\u8c61\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u3001\u6267\u884c\u4e0a\u4e0b\u6587\u7b49\u6838\u5fc3\u7ec4\u4ef6\u3002","source":"@site/docs/L-\u6e90\u7801\u7cfb\u5217/05-runtime-system.md","sourceDirName":"L-\u6e90\u7801\u7cfb\u5217","slug":"/L-\u6e90\u7801\u7cfb\u5217/runtime-system","permalink":"/docs/en/main/L-\u6e90\u7801\u7cfb\u5217/runtime-system","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/L-\u6e90\u7801\u7cfb\u5217/05-runtime-system.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u7f16\u8bd1\u4f18\u5316","permalink":"/docs/en/main/L-\u6e90\u7801\u7cfb\u5217/compilation-optimization"},"next":{"title":"\u6027\u80fd\u4f18\u5316\u673a\u5236","permalink":"/docs/en/main/L-\u6e90\u7801\u7cfb\u5217/performance-optimization"}}');var i=l(4848),c=l(8453);const r={},d="\u8fd0\u884c\u65f6\u7cfb\u7edf",a={},t=[{value:"\u5bf9\u8c61\u7cfb\u7edf",id:"\u5bf9\u8c61\u7cfb\u7edf",level:2},{value:"\u5bf9\u8c61\u5e03\u5c40",id:"\u5bf9\u8c61\u5e03\u5c40",level:3},{value:"HeapObject\u57fa\u7c7b",id:"heapobject\u57fa\u7c7b",level:4},{value:"JSObject\u7ed3\u6784",id:"jsobject\u7ed3\u6784",level:4},{value:"Hidden Classes (\u9690\u85cf\u7c7b)",id:"hidden-classes-\u9690\u85cf\u7c7b",level:3},{value:"Map\u5bf9\u8c61",id:"map\u5bf9\u8c61",level:4},{value:"\u5c5e\u6027\u8bbf\u95ee\u4f18\u5316",id:"\u5c5e\u6027\u8bbf\u95ee\u4f18\u5316",level:4},{value:"\u8f6c\u6362\u94fe",id:"\u8f6c\u6362\u94fe",level:4},{value:"\u5c5e\u6027\u5b58\u50a8",id:"\u5c5e\u6027\u5b58\u50a8",level:3},{value:"\u5c5e\u6027\u7c7b\u578b",id:"\u5c5e\u6027\u7c7b\u578b",level:4},{value:"\u5b58\u50a8\u7b56\u7565",id:"\u5b58\u50a8\u7b56\u7565",level:4},{value:"\u5185\u5b58\u7ba1\u7406",id:"\u5185\u5b58\u7ba1\u7406",level:2},{value:"\u5806\u7ed3\u6784",id:"\u5806\u7ed3\u6784",level:3},{value:"\u5206\u4ee3\u5783\u573e\u56de\u6536",id:"\u5206\u4ee3\u5783\u573e\u56de\u6536",level:4},{value:"\u5185\u5b58\u533a\u57df",id:"\u5185\u5b58\u533a\u57df",level:4},{value:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",id:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",level:3},{value:"\u65b0\u751f\u4ee3GC (Scavenge)",id:"\u65b0\u751f\u4ee3gc-scavenge",level:4},{value:"\u8001\u751f\u4ee3GC (Mark-Sweep-Compact)",id:"\u8001\u751f\u4ee3gc-mark-sweep-compact",level:4},{value:"\u589e\u91cf\u6807\u8bb0",id:"\u589e\u91cf\u6807\u8bb0",level:4},{value:"\u5185\u5b58\u5206\u914d",id:"\u5185\u5b58\u5206\u914d",level:3},{value:"\u5206\u914d\u7b56\u7565",id:"\u5206\u914d\u7b56\u7565",level:4},{value:"\u5206\u914d\u8def\u5f84",id:"\u5206\u914d\u8def\u5f84",level:4},{value:"\u6267\u884c\u4e0a\u4e0b\u6587",id:"\u6267\u884c\u4e0a\u4e0b\u6587",level:2},{value:"Context\u5bf9\u8c61",id:"context\u5bf9\u8c61",level:3},{value:"\u4e0a\u4e0b\u6587\u7c7b\u578b",id:"\u4e0a\u4e0b\u6587\u7c7b\u578b",level:4},{value:"\u4e0a\u4e0b\u6587\u94fe",id:"\u4e0a\u4e0b\u6587\u94fe",level:4},{value:"\u51fd\u6570\u8c03\u7528",id:"\u51fd\u6570\u8c03\u7528",level:3},{value:"\u8c03\u7528\u7ea6\u5b9a",id:"\u8c03\u7528\u7ea6\u5b9a",level:4},{value:"\u8c03\u7528\u6808\u7ba1\u7406",id:"\u8c03\u7528\u6808\u7ba1\u7406",level:4},{value:"\u4f5c\u7528\u57df\u94fe",id:"\u4f5c\u7528\u57df\u94fe",level:3},{value:"\u53d8\u91cf\u67e5\u627e",id:"\u53d8\u91cf\u67e5\u627e",level:4},{value:"\u95ed\u5305\u5b9e\u73b0",id:"\u95ed\u5305\u5b9e\u73b0",level:4},{value:"\u7c7b\u578b\u7cfb\u7edf",id:"\u7c7b\u578b\u7cfb\u7edf",level:2},{value:"\u503c\u8868\u793a",id:"\u503c\u8868\u793a",level:3},{value:"Smi (Small Integer)",id:"smi-small-integer",level:4},{value:"\u88c5\u7bb1/\u62c6\u7bb1",id:"\u88c5\u7bb1\u62c6\u7bb1",level:4},{value:"\u5f02\u5e38\u5904\u7406",id:"\u5f02\u5e38\u5904\u7406",level:2},{value:"\u5f02\u5e38\u673a\u5236",id:"\u5f02\u5e38\u673a\u5236",level:3},{value:"try-catch\u5b9e\u73b0",id:"try-catch\u5b9e\u73b0",level:4},{value:"\u9519\u8bef\u5bf9\u8c61",id:"\u9519\u8bef\u5bf9\u8c61",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u8fd0\u884c\u65f6\u7cfb\u7edf",children:"\u8fd0\u884c\u65f6\u7cfb\u7edf"})}),"\n",(0,i.jsx)(n.p,{children:"V8\u7684\u8fd0\u884c\u65f6\u7cfb\u7edf\u5305\u62ec\u5bf9\u8c61\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u3001\u6267\u884c\u4e0a\u4e0b\u6587\u7b49\u6838\u5fc3\u7ec4\u4ef6\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u5bf9\u8c61\u7cfb\u7edf",children:"\u5bf9\u8c61\u7cfb\u7edf"}),"\n",(0,i.jsx)(n.h3,{id:"\u5bf9\u8c61\u5e03\u5c40",children:"\u5bf9\u8c61\u5e03\u5c40"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u4f4d\u7f6e"}),": ",(0,i.jsx)(n.code,{children:"src/objects/"})]}),"\n",(0,i.jsx)(n.h4,{id:"heapobject\u57fa\u7c7b",children:"HeapObject\u57fa\u7c7b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class HeapObject {\n  Map map();                    // \u5bf9\u8c61\u7684Map\n  int Size();                   // \u5bf9\u8c61\u5927\u5c0f\n  bool IsJSObject();           // \u7c7b\u578b\u68c0\u67e5\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"jsobject\u7ed3\u6784",children:"JSObject\u7ed3\u6784"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class JSObject : public HeapObject {\n  FixedArray* properties();     // \u5c5e\u6027\u6570\u7ec4\n  FixedArray* elements();       // \u5143\u7d20\u6570\u7ec4\n  Map map();                    // \u9690\u85cf\u7c7b\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"hidden-classes-\u9690\u85cf\u7c7b",children:"Hidden Classes (\u9690\u85cf\u7c7b)"}),"\n",(0,i.jsx)(n.h4,{id:"map\u5bf9\u8c61",children:"Map\u5bf9\u8c61"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Map : public HeapObject {\n  DescriptorArray* instance_descriptors();  // \u5c5e\u6027\u63cf\u8ff0\u7b26\n  Map* prototype();                          // \u539f\u578b\u5bf9\u8c61\n  int instance_size();                       // \u5b9e\u4f8b\u5927\u5c0f\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u5c5e\u6027\u8bbf\u95ee\u4f18\u5316",children:"\u5c5e\u6027\u8bbf\u95ee\u4f18\u5316"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5185\u8054\u5c5e\u6027"}),": \u76f4\u63a5\u5b58\u50a8\u5728\u5bf9\u8c61\u4e2d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5916\u8054\u5c5e\u6027"}),": \u5b58\u50a8\u5728\u5c5e\u6027\u6570\u7ec4\u4e2d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5feb\u901f\u5c5e\u6027"}),": \u57fa\u4e8e\u504f\u79fb\u91cf\u7684\u76f4\u63a5\u8bbf\u95ee"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u8f6c\u6362\u94fe",children:"\u8f6c\u6362\u94fe"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u7a7a\u5bf9\u8c61 \u2192 \u6dfb\u52a0\u5c5e\u6027a \u2192 \u6dfb\u52a0\u5c5e\u6027b \u2192 \u5220\u9664\u5c5e\u6027a\n  Map0  \u2192    Map1    \u2192    Map2    \u2192    Map3\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5c5e\u6027\u5b58\u50a8",children:"\u5c5e\u6027\u5b58\u50a8"}),"\n",(0,i.jsx)(n.h4,{id:"\u5c5e\u6027\u7c7b\u578b",children:"\u5c5e\u6027\u7c7b\u578b"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6570\u636e\u5c5e\u6027"}),": \u666e\u901a\u503c\u5c5e\u6027"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u8bbf\u95ee\u5668\u5c5e\u6027"}),": getter/setter\u5c5e\u6027"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5143\u7d20\u5c5e\u6027"}),": \u6570\u7ec4\u7d22\u5f15\u5c5e\u6027"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u5b58\u50a8\u7b56\u7565",children:"\u5b58\u50a8\u7b56\u7565"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"enum PropertyKind {\n  kData,                // \u6570\u636e\u5c5e\u6027\n  kAccessor,           // \u8bbf\u95ee\u5668\u5c5e\u6027\n  kDataConstant        // \u5e38\u91cf\u5c5e\u6027\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5185\u5b58\u7ba1\u7406",children:"\u5185\u5b58\u7ba1\u7406"}),"\n",(0,i.jsx)(n.h3,{id:"\u5806\u7ed3\u6784",children:"\u5806\u7ed3\u6784"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u4f4d\u7f6e"}),": ",(0,i.jsx)(n.code,{children:"src/heap/"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u5206\u4ee3\u5783\u573e\u56de\u6536",children:"\u5206\u4ee3\u5783\u573e\u56de\u6536"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Heap {\n  NewSpace* new_space();        // \u65b0\u751f\u4ee3\n  OldSpace* old_space();        // \u8001\u751f\u4ee3\n  LargeObjectSpace* lo_space(); // \u5927\u5bf9\u8c61\u7a7a\u95f4\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u5185\u5b58\u533a\u57df",children:"\u5185\u5b58\u533a\u57df"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u65b0\u751f\u4ee3"}),": \u77ed\u751f\u547d\u5468\u671f\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u8001\u751f\u4ee3"}),": \u957f\u751f\u547d\u5468\u671f\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5927\u5bf9\u8c61\u7a7a\u95f4"}),": \u5927\u4e8e\u9875\u9762\u5927\u5c0f\u7684\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u4ee3\u7801\u7a7a\u95f4"}),": \u53ef\u6267\u884c\u4ee3\u7801"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5783\u573e\u56de\u6536\u7b97\u6cd5",children:"\u5783\u573e\u56de\u6536\u7b97\u6cd5"}),"\n",(0,i.jsx)(n.h4,{id:"\u65b0\u751f\u4ee3gc-scavenge",children:"\u65b0\u751f\u4ee3GC (Scavenge)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Scavenger {\n  void ScavengeObject(HeapObject* object);\n  void EvacuateObject(HeapObject* object);\n  void UpdatePointers();\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u7b97\u6cd5\u7279\u70b9"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u590d\u5236\u7b97\u6cd5"}),": From\u7a7a\u95f4\u5230To\u7a7a\u95f4"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5feb\u901f\u56de\u6536"}),": \u9002\u5408\u77ed\u751f\u547d\u5468\u671f\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u664b\u5347\u673a\u5236"}),": \u5b58\u6d3b\u5bf9\u8c61\u664b\u5347\u5230\u8001\u751f\u4ee3"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u8001\u751f\u4ee3gc-mark-sweep-compact",children:"\u8001\u751f\u4ee3GC (Mark-Sweep-Compact)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class MarkCompactCollector {\n  void MarkLiveObjects();       // \u6807\u8bb0\u5b58\u6d3b\u5bf9\u8c61\n  void SweepSpaces();          // \u6e05\u9664\u6b7b\u5bf9\u8c61\n  void CompactSpace();         // \u538b\u7f29\u7a7a\u95f4\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u4e09\u9636\u6bb5\u8fc7\u7a0b"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6807\u8bb0\u9636\u6bb5"}),": \u6807\u8bb0\u6240\u6709\u53ef\u8fbe\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6e05\u9664\u9636\u6bb5"}),": \u56de\u6536\u672a\u6807\u8bb0\u5bf9\u8c61"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u538b\u7f29\u9636\u6bb5"}),": \u6574\u7406\u5185\u5b58\u788e\u7247"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u589e\u91cf\u6807\u8bb0",children:"\u589e\u91cf\u6807\u8bb0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class IncrementalMarking {\n  void Start();                 // \u5f00\u59cb\u589e\u91cf\u6807\u8bb0\n  void Step();                  // \u6267\u884c\u6807\u8bb0\u6b65\u9aa4\n  void Finalize();             // \u5b8c\u6210\u6807\u8bb0\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5185\u5b58\u5206\u914d",children:"\u5185\u5b58\u5206\u914d"}),"\n",(0,i.jsx)(n.h4,{id:"\u5206\u914d\u7b56\u7565",children:"\u5206\u914d\u7b56\u7565"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class AllocationSpace {\n  HeapObject* AllocateRaw(int size);\n  bool CanAllocate(int size);\n  void Free(HeapObject* object);\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u5206\u914d\u8def\u5f84",children:"\u5206\u914d\u8def\u5f84"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5feb\u901f\u8def\u5f84"}),": \u7ebf\u6027\u5206\u914d\u6307\u9488"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6162\u901f\u8def\u5f84"}),": \u7a7a\u95f2\u5217\u8868\u5206\u914d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GC\u89e6\u53d1"}),": \u7a7a\u95f4\u4e0d\u8db3\u65f6\u89e6\u53d1\u56de\u6536"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u6267\u884c\u4e0a\u4e0b\u6587",children:"\u6267\u884c\u4e0a\u4e0b\u6587"}),"\n",(0,i.jsx)(n.h3,{id:"context\u5bf9\u8c61",children:"Context\u5bf9\u8c61"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u4f4d\u7f6e"}),": ",(0,i.jsx)(n.code,{children:"src/execution/"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u4e0a\u4e0b\u6587\u7c7b\u578b",children:"\u4e0a\u4e0b\u6587\u7c7b\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"enum ContextType {\n  FUNCTION_CONTEXT,     // \u51fd\u6570\u4e0a\u4e0b\u6587\n  BLOCK_CONTEXT,        // \u5757\u7ea7\u4e0a\u4e0b\u6587\n  MODULE_CONTEXT,       // \u6a21\u5757\u4e0a\u4e0b\u6587\n  SCRIPT_CONTEXT        // \u811a\u672c\u4e0a\u4e0b\u6587\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u4e0a\u4e0b\u6587\u94fe",children:"\u4e0a\u4e0b\u6587\u94fe"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Context : public HeapObject {\n  Context* previous();          // \u4e0a\u7ea7\u4e0a\u4e0b\u6587\n  ScopeInfo* scope_info();     // \u4f5c\u7528\u57df\u4fe1\u606f\n  Object* get(int index);      // \u83b7\u53d6\u53d8\u91cf\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u51fd\u6570\u8c03\u7528",children:"\u51fd\u6570\u8c03\u7528"}),"\n",(0,i.jsx)(n.h4,{id:"\u8c03\u7528\u7ea6\u5b9a",children:"\u8c03\u7528\u7ea6\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class CallInterfaceDescriptor {\n  Register target();            // \u76ee\u6807\u51fd\u6570\u5bc4\u5b58\u5668\n  Register new_target();        // new.target\u5bc4\u5b58\u5668\n  Register argument_count();    // \u53c2\u6570\u6570\u91cf\u5bc4\u5b58\u5668\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u8c03\u7528\u6808\u7ba1\u7406",children:"\u8c03\u7528\u6808\u7ba1\u7406"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6808\u5e27\u7ed3\u6784"}),": \u53c2\u6570\u3001\u5c40\u90e8\u53d8\u91cf\u3001\u8fd4\u56de\u5730\u5740"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6808\u6ea2\u51fa\u68c0\u6d4b"}),": \u9632\u6b62\u65e0\u9650\u9012\u5f52"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5c3e\u8c03\u7528\u4f18\u5316"}),": \u4f18\u5316\u5c3e\u9012\u5f52\u8c03\u7528"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f5c\u7528\u57df\u94fe",children:"\u4f5c\u7528\u57df\u94fe"}),"\n",(0,i.jsx)(n.h4,{id:"\u53d8\u91cf\u67e5\u627e",children:"\u53d8\u91cf\u67e5\u627e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class ScopeIterator {\n  Handle<Object> GetReceiver();\n  Handle<String> GetFunctionDebugName();\n  bool SetVariableValue(Handle<String> name, Handle<Object> value);\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u95ed\u5305\u5b9e\u73b0",children:"\u95ed\u5305\u5b9e\u73b0"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6355\u83b7\u53d8\u91cf"}),": \u95ed\u5305\u6355\u83b7\u7684\u5916\u90e8\u53d8\u91cf"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u4e0a\u4e0b\u6587\u4fdd\u5b58"}),": \u4fdd\u6301\u5916\u90e8\u4f5c\u7528\u57df\u5f15\u7528"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5185\u5b58\u7ba1\u7406"}),": \u95ed\u5305\u7684\u5783\u573e\u56de\u6536"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u7c7b\u578b\u7cfb\u7edf",children:"\u7c7b\u578b\u7cfb\u7edf"}),"\n",(0,i.jsx)(n.h3,{id:"\u503c\u8868\u793a",children:"\u503c\u8868\u793a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Object {\n  bool IsSmi();                 // \u5c0f\u6574\u6570\n  bool IsHeapObject();         // \u5806\u5bf9\u8c61\n  bool IsString();             // \u5b57\u7b26\u4e32\n  bool IsJSFunction();         // \u51fd\u6570\u5bf9\u8c61\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"smi-small-integer",children:"Smi (Small Integer)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u76f4\u63a5\u7f16\u7801"}),": 31\u4f4d\u6574\u6570\u76f4\u63a5\u7f16\u7801\u5728\u6307\u9488\u4e2d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u65e0\u5206\u914d\u5f00\u9500"}),": \u4e0d\u9700\u8981\u5806\u5206\u914d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5feb\u901f\u8fd0\u7b97"}),": \u76f4\u63a5\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u88c5\u7bb1\u62c6\u7bb1",children:"\u88c5\u7bb1/\u62c6\u7bb1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// \u88c5\u7bb1: \u539f\u59cb\u503c \u2192 \u5bf9\u8c61\nHandle<Object> BoxValue(int32_t value);\n\n// \u62c6\u7bb1: \u5bf9\u8c61 \u2192 \u539f\u59cb\u503c  \nint32_t UnboxValue(Handle<Object> object);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5f02\u5e38\u5904\u7406",children:"\u5f02\u5e38\u5904\u7406"}),"\n",(0,i.jsx)(n.h3,{id:"\u5f02\u5e38\u673a\u5236",children:"\u5f02\u5e38\u673a\u5236"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class Isolate {\n  Object* pending_exception();\n  void set_pending_exception(Object* exception);\n  void clear_pending_exception();\n};\n"})}),"\n",(0,i.jsx)(n.h4,{id:"try-catch\u5b9e\u73b0",children:"try-catch\u5b9e\u73b0"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5f02\u5e38\u8868"}),": \u8bb0\u5f55\u5f02\u5e38\u5904\u7406\u5668\u4f4d\u7f6e"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6808\u5c55\u5f00"}),": \u5f02\u5e38\u4f20\u64ad\u65f6\u7684\u6808\u6e05\u7406"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"finally\u5757"}),": \u786e\u4fddfinally\u4ee3\u7801\u6267\u884c"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u9519\u8bef\u5bf9\u8c61",children:"\u9519\u8bef\u5bf9\u8c61"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class JSError : public JSObject {\n  String* message();            // \u9519\u8bef\u6d88\u606f\n  Object* stack_trace();        // \u5806\u6808\u8ddf\u8e2a\n};\n"})})]})}function o(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>d});var s=l(6540);const i={},c=s.createContext(i);function r(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);